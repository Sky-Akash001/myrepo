<!doctype html>
{% load static %}
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static "css/style3.css" %}">
    <link rel="stylesheet" href="{% static "css/style.css" %}">

    <title>HTML Editor</title>
  </head>
  <body>
    <div class="editor">
      <div class="container">
        <textarea placeholder = "HTML code" id = "html-code" rows="8" cols="80"></textarea>
        <textarea placeholder="CSS Styling" id = "css-code" rows="8" cols="80"></textarea>
        <textarea placeholder="JavaScript code" id = "js-code" rows="8" cols="80"></textarea>
      </div>
      <div class="container container2" text align = "center">
        <iframe placeholder = "Output Screen" id = "output" width="" height=""></iframe>
      </div>

    </div>
    <div class="container">
      <button class="btn btn-outline-light btn2 shadow" type="button"><a href="/">Back to Home</a></button>
    </div>



    <script type="text/javascript">
      function run(){
        let htmlcode = document.querySelector(".editor #html-code").value;
        let csscode = "<style>"+document.querySelector(".editor #css-code").value+"</style>";
        let jscode = document.querySelector(".editor #js-code").value;
        let output = document.querySelector(".editor #output");
        //console.log(htmlcode, csscode, jscode, output);
        output.contentDocument.body.innerHTML = htmlcode+csscode;
        output.contentWindow.eval(jscode);
      }
      document.querySelector(".editor #html-code"),addEventListener("keyup",run);
      document.querySelector(".editor #css-code"),addEventListener("keyup",run);
      document.querySelector(".editor #js-code"),addEventListener("keyup",run);

    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>


  </body>
</html>
